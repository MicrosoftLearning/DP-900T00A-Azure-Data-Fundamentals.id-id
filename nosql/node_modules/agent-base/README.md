---
ms.openlocfilehash: ca1f677bd38876befee833fcedd10388a71aecf4
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: id-ID
ms.lasthandoff: 02/05/2022
ms.locfileid: "138053026"
---
<a name="agent-base"></a>agent-base
==========
### <a name="turn-a-function-into-an-httpagenthttpagent-instance"></a>Ubah fungsi menjadi instans [`http.Agent`][http.Agent]
[![Status Build](https://github.com/TooTallNate/node-agent-base/workflows/Node%20CI/badge.svg)](https://github.com/TooTallNate/node-agent-base/actions?workflow=Node+CI)

Modul ini menyediakan generator `http.Agent`. Artinya, Anda memberikannya fungsi panggilan balik asinkron, dan fungsi tersebut mengembalikan instans `http.Agent` baru yang akan memanggil fungsi panggilan balik yang diberikan saat mengirim permintaan HTTP keluar.

#### <a name="some-subclasses"></a>Beberapa subkelas:

Berikut beberapa penggunaan `agent-base` yang lebih menarik.
Kirim permintaan pull ke daftar milik Anda!

 * [`http-proxy-agent`][http-proxy-agent]: Implementasi `http.Agent` proksi HTTP untuk titik akhir HTTP
 * [`https-proxy-agent`][https-proxy-agent]: Implementasi `http.Agent` proksi HTTP untuk titik akhir HTTPS
 * [`pac-proxy-agent`][pac-proxy-agent]: Implementasi `http.Agent` proksi file PAC untuk HTTP dan HTTPS
 * [`socks-proxy-agent`][socks-proxy-agent]: Implementasi `http.Agent` proksi SOCKS untuk HTTP dan HTTPS


<a name="installation"></a>Penginstalan
------------

Instal dengan `npm`:

``` bash
$ npm install agent-base
```


<a name="example"></a>Contoh
-------

Berikut adalah contoh minimal yang membuat koneksi `net.Socket` baru ke server untuk setiap permintaan HTTP (yaitu setara dengan opsi `agent: false`):

```js
var net = require('net');
var tls = require('tls');
var url = require('url');
var http = require('http');
var agent = require('agent-base');

var endpoint = 'http://nodejs.org/api/';
var parsed = url.parse(endpoint);

// This is the important part!
parsed.agent = agent(function (req, opts) {
  var socket;
  // `secureEndpoint` is true when using the https module
  if (opts.secureEndpoint) {
    socket = tls.connect(opts);
  } else {
    socket = net.connect(opts);
  }
  return socket;
});

// Everything else works just like normal...
http.get(parsed, function (res) {
  console.log('"response" event!', res.headers);
  res.pipe(process.stdout);
});
```

Mengembalikan Janji atau menggunakan fungsi `async` juga didukung:

```js
agent(async function (req, opts) {
  await sleep(1000);
  // etc…
});
```

Kembalikan instans `http.Agent` lain untuk "meneruskan" tanggung jawab permintaan HTTP tersebut kepada agen tersebut:

```js
agent(function (req, opts) {
  return opts.secureEndpoint ? https.globalAgent : http.globalAgent;
});
```


<a name="api"></a>API
---

## <a name="agentfunction-callback-object-options--httpagent"></a>Agent(Function callback[, Object options]) → [http.Agent][]

Membuat `http.Agent` dasar yang akan menjalankan fungsi panggilan balik `callback` untuk setiap permintaan HTTP yang digunakan sebagai `agent`. Fungsi panggilan balik bertanggung jawab untuk membuat instans `stream.Duplex` dari beberapa jenis yang akan digunakan sebagai soket yang mendasari dalam permintaan HTTP.

Objek `options` menerima properti berikut:

  * `timeout` - Angka - Batas waktu untuk fungsi `callback()` dalam milidetik. Diatur secara default ke Infinity (opsional).

Fungsi panggilan balik harus memiliki tanda tangan berikut:

### <a name="callbackhttpclientrequest-req-object-options-function-cb--undefined"></a>callback(http.ClientRequest req, Object options, Function cb) → undefined

ClientRequest `req` dapat diakses untuk membaca header permintaan dan jalur, dll. Objek `options` berisi opsi yang diteruskan ke pemanggilan fungsi `http.request()`/`https.request()`, dan diformat untuk langsung diteruskan ke `net.connect()`/`tls.connect()`, atau apa pun yang Anda inginkan dari Soket yang akan dibuat. Teruskan soket yang dibuat ke fungsi panggilan balik `cb` setelah dibuat, dan permintaan HTTP akan terus dilanjutkan.

Jika modul `https` digunakan untuk menjalankan permintaan HTTP, properti `secureEndpoint` di `options` _akan diatur ke `true`_ .


<a name="license"></a>Lisensi
-------

(Lisensi MIT)

Hak Cipta (c) 2013 Nathan Rajlich &lt;nathan@tootallnate.net&gt;

Izin dengan ini diberikan, secara gratis, kepada siapa pun yang memperoleh salinan perangkat lunak ini dan file dokumentasi terkait ('Perangkat Lunak'), untuk menangani Perangkat Lunak tanpa batasan, termasuk tetapi tidak terbatas pada hak untuk menggunakan, menyalin, memodifikasi, menggabungkan, menerbitkan, mendistribusikan, mensublisensikan, dan/atau menjual salinan Perangkat Lunak, serta mengizinkan orang-orang yang diberi Perangkat Lunak untuk melakukannya, dengan tunduk pada ketentuan berikut:

Pemberitahuan hak cipta di atas dan pemberitahuan izin ini harus disertakan dalam semua salinan atau bagian substansial dari Perangkat Lunak.

PERANGKAT LUNAK DISEDIAKAN 'SEBAGAIMANA ADANYA', TANPA JAMINAN DALAM BENTUK APA PUN, BAIK TERSURAT MAUPUN TERSIRAT, TERMASUK TETAPI TIDAK TERBATAS PADA KELAYAKAN UNTUK DIPERDAGANGKAN, KESESUAIAN UNTUK TUJUAN TERTENTU DAN TANPA PELANGGARAN.
DALAM KEADAAN APA PUN PENULIS ATAU PEMEGANG HAK CIPTA TIDAK BERTANGGUNG JAWAB ATAS KLAIM, KERUSAKAN, ATAU TANGGUNG JAWAB LAINNYA, BAIK DALAM TINDAKAN KONTRAK, KERUGIAN ATAU LAINNYA, YANG TIMBUL DARI, DARI ATAU SEHUBUNGAN DENGAN PERANGKAT LUNAK ATAU DALAM TRANSAKSI LAINNYA DALAM PERANGKAT LUNAK.

[http-proxy-agent]: https://github.com/TooTallNate/node-http-proxy-agent
[https-proxy-agent]: https://github.com/TooTallNate/node-https-proxy-agent
[pac-proxy-agent]: https://github.com/TooTallNate/node-pac-proxy-agent
[socks-proxy-agent]: https://github.com/TooTallNate/node-socks-proxy-agent
[http.Agent]: https://nodejs.org/api/http.html#http_class_http_agent
