---
ms.openlocfilehash: 4f70d9e1d8895757244ec8464f178ff3068a36bd
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: id-ID
ms.lasthandoff: 02/05/2022
ms.locfileid: "138051084"
---
# <a name="rc"></a>rc

Pemuat konfigurasi yang tidak dapat dikonfigurasi untuk orang yang malas.

## <a name="usage"></a>Penggunaan

Satu-satunya opsi adalah meneruskan nama aplikasi Anda, dan konfigurasi default Anda.

```javascript
var conf = require('rc')(appname, {
  //defaults go here.
  port: 2468,

  //defaults which are objects will be merged, not replaced
  views: {
    engine: 'jade'
  }
});
```

`rc` akan mengembalikan opsi konfigurasi yang digabungkan dengan default yang Anda tentukan.
Jika Anda meneruskan objek default yang telah ditentukan sebelumnya, objek tersebut akan dimutasi:

```javascript
var conf = {};
require('rc')(appname, conf);
```

Jika `rc` menemukan file konfigurasi untuk aplikasi Anda, objek konfigurasi yang dikembalikan akan memiliki array `configs` yang berisi jalurnya:

```javascript
var appCfg = require('rc')(appname, conf);
appCfg.configs[0] // /etc/appnamerc
appCfg.configs[1] // /home/dominictarr/.config/appname
appCfg.config // same as appCfg.configs[appCfg.configs.length - 1]
```

## <a name="standards"></a>Standar

Dengan nama aplikasi Anda (`appname`), rc akan mencari di semua tempat yang jelas untuk konfigurasi.

  * argumen baris perintah, diurai oleh minimist _(misalnya `--foo baz`, juga berlapis: `--foo.bar=baz`)_
  * variabel lingkungan diawali dengan `${appname}_`
    * atau gunakan "\_\_" untuk menunjukkan properti berlapis <br/> _(misalnya, `appname_foo__bar__baz` => `foo.bar.baz`)_
  * jika Anda meneruskan opsi `--config file`, dari file tersebut
  * `.${appname}rc` lokal atau yang pertama ditemukan mencari di `./ ../ ../../ ../../../` dll.
  * `$HOME/.${appname}rc`
  * `$HOME/.${appname}/config`
  * `$HOME/.config/${appname}`
  * `$HOME/.config/${appname}/config`
  * `/etc/${appname}rc`
  * `/etc/${appname}/config`
  * objek default yang Anda teruskan.

Semua sumber konfigurasi yang ditemukan akan diratakan menjadi satu objek, sehingga sumber **sebelumnya** dalam daftar ini menggantikan sumber yang lebih baru.


## <a name="configuration-file-formats"></a>Format File Konfigurasi

File konfigurasi (misalnya `.appnamerc`) mungkin dalam format [json](http://json.org/example) atau [ini](http://en.wikipedia.org/wiki/INI_file). **Tidak ada** ekstensi file (`.json` atau `.ini`) yang boleh digunakan. Contoh konfigurasi di bawah ini setara:


#### <a name="formatted-as-ini"></a>Diformat sebagai `ini`

```
; You can include comments in `ini` format if you want.

dependsOn=0.10.0


; `rc` has built-in support for ini sections, see?

[commands]
  www     = ./commands/www
  console = ./commands/repl


; You can even do nested sections

[generators.options]
  engine  = ejs

[generators.modules]
  new     = generate-new
  engine  = generate-backend

```

#### <a name="formatted-as-json"></a>Diformat sebagai `json`

```javascript
{
  // You can even comment your JSON, if you want
  "dependsOn": "0.10.0",
  "commands": {
    "www": "./commands/www",
    "console": "./commands/repl"
  },
  "generators": {
    "options": {
      "engine": "ejs"
    },
    "modules": {
      "new": "generate-new",
      "backend": "generate-backend"
    }
  }
}
```

Komentar dihapus dari konfigurasi JSON melalui [strip-json-comments](https://github.com/sindresorhus/strip-json-comments).

> Karena ini, dan variabel env tidak memiliki standar untuk tipe, aplikasi Anda perlu disiapkan untuk string.

Untuk memastikan bahwa representasi string dari boolean dan angka selalu diubah menjadi jenis yang tepat (terutama berguna jika Anda ingin melakukan perbandingan `===` yang ketat), pertimbangkan untuk menggunakan modul seperti [parse-strings-in-object](https://github.com/anselanza/parse-strings-in-object) untuk membungkus objek konfigurasi yang dikembalikan dari rc.


## <a name="simple-example-demonstrating-precedence"></a>Contoh sederhana yang menunjukkan prioritas
Asumsikan Anda memiliki aplikasi seperti ini (perhatikan default yang dikodekan secara permanen diteruskan ke rc):
```
const conf = require('rc')('myapp', {
    port: 12345,
    mode: 'test'
});

console.log(JSON.stringify(conf, null, 2));
```
Anda juga memiliki file `config.json`, dengan konten berikut:
```
{
  "port": 9000,
  "foo": "from config json",
  "something": "else"
}
```
Dan file `.myapprc` di folder yang sama, dengan konten berikut:
```
{
  "port": "3001",
  "foo": "bar"
}
```
Berikut adalah output yang diharapkan dari berbagai perintah:

`node .`
```
{
  "port": "3001",
  "mode": "test",
  "foo": "bar",
  "_": [],
  "configs": [
    "/Users/stephen/repos/conftest/.myapprc"
  ],
  "config": "/Users/stephen/repos/conftest/.myapprc"
}
```
*Default `mode` dari objek yang dikodekan secara permanen dipertahankan, tetapi port ditimpa oleh file `.myapprc` (ditemukan secara otomatis berdasarkan kecocokan nama aplikasi), dan `foo` ditambahkan.*


`node . --foo baz`
```
{
  "port": "3001",
  "mode": "test",
  "foo": "baz",
  "_": [],
  "configs": [
    "/Users/stephen/repos/conftest/.myapprc"
  ],
  "config": "/Users/stephen/repos/conftest/.myapprc"
}
```
*Hasil yang sama seperti di atas tetapi `foo` diganti karena argumen baris perintah lebih diutamakan daripada file `.myapprc`.*

`node . --foo barbar --config config.json`
```
{
  "port": 9000,
  "mode": "test",
  "foo": "barbar",
  "something": "else",
  "_": [],
  "config": "config.json",
  "configs": [
    "/Users/stephen/repos/conftest/.myapprc",
    "config.json"
  ]
}
```
*Sekarang `port` berasal dari file `config.json` yang ditentukan (mengganti nilai dari `.myapprc`), dan nilai `foo` diganti oleh baris perintah meskipun juga ditentukan dalam file `config.json`.*
 


## <a name="advanced-usage"></a>Penggunaan Tingkat Lanjut

#### <a name="pass-in-your-own-argv"></a>Berikan `argv` Anda sendiri

Anda dapat meneruskan `argv` Anda sendiri sebagai argumen ketiga ke `rc`.  Ini jika Anda ingin [menggunakan pengurai pilihan baris perintah Anda sendiri](https://github.com/dominictarr/rc/pull/12).

```javascript
require('rc')(appname, defaults, customArgvParser);
```

## <a name="pass-in-your-own-parser"></a>Lewati parser Anda sendiri

Jika Anda memiliki kebutuhan khusus untuk menggunakan pengurai non-standar, Anda dapat melakukannya dengan meneruskan pengurai sebagai argumen ke-4.
(biarkan yang ke-3 sebagai nol untuk mendapatkan parser argumen default)

```javascript
require('rc')(appname, defaults, null, parser);
```

Ini juga dapat digunakan untuk memaksa format yang lebih ketat, seperti hanya JSON yang valid dan ketat.

## <a name="note-on-performance"></a>Catatan tentang Performa

`rc` sedang menjalankan `fs.statSync`-- jadi pastikan Anda tidak menggunakannya di jalur kode panas (misalnya penangan permintaan) 


## <a name="license"></a>Lisensi

Multi-lisensi berdasarkan Lisensi BSD dua klausa, Lisensi MIT, atau Lisensi Apache, versi 2.0
