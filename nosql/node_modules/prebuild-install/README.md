---
ms.openlocfilehash: 50690c00791b1f6ca1d585c1fb653f0ec4794578
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: id-ID
ms.lasthandoff: 02/05/2022
ms.locfileid: "138051706"
---
# <a name="prebuild-install"></a>prebuild-install

> **Alat baris perintah untuk menginstal biner bawaan dengan mudah untuk beberapa versi Node.js & Electron pada platform tertentu.**
> Secara default, alat tersebut mengunduh biner bawaan dari rilis GitHub.

[![npm](https://img.shields.io/npm/v/prebuild-install.svg)](https://www.npmjs.com/package/prebuild-install)
![Versi simpul](https://img.shields.io/node/v/prebuild-install.svg)
[![Pengujian](https://github.com/prebuild/prebuild-install/actions/workflows/test.yml/badge.svg)](https://github.com/prebuild/prebuild-install/actions/workflows/test.yml)
[![david](https://david-dm.org/prebuild/prebuild-install.svg)](https://david-dm.org/prebuild/prebuild-install)
[ ![js-standard-style](https://img.shields.io/badge/code%20style-standard-brightgreen.svg)](http://standardjs.com/)

## <a name="note"></a>Catatan

**Daripada [`prebuild`](https://github.com/prebuild/prebuild) dipasangkan dengan [`prebuild-install`](https://github.com/prebuild/prebuild-install), sebaiknya [`prebuildify`](https://github.com/prebuild/prebuildify) dipasangkan dengan [`node-gyp-build`](https://github.com/prebuild/node-gyp-build).**

Dengan `prebuildify`, semua biner bawaan dikirimkan di dalam paket yang diterbitkan ke npm, yang berarti tidak perlu langkah pengunduhan terpisah seperti yang Anda temukan di `prebuild`. Ironi dari pendekatan ini adalah lebih cepat mengunduh semua biner bawaan untuk setiap platform saat mereka digabungkan daripada mengunduh satu biner bawaan sebagai skrip instal.

Keuntungan:

1. Tidak ada langkah unduh tambahan, sehingga membuatnya lebih andal dan lebih cepat untuk diinstal.
2. Mendukung perubahan versi runtime secara lokal dan menggunakan instal yang sama antara Node.js dan Electron. Menginstal ulang atau membangun kembali tidak diperlukan, karena semua biner bawaan ada di tarball npm dan yang benar hanya dipilih saat runtime.
3. Dependensi runtime `node-gyp-build` bebas dependensi dan akan tetap di luar prinsip, karena memperkenalkan dependensi akan meniadakan waktu pemasangan yang lebih singkat.
4. Binar bawaan berfungsi bahkan jika skrip instal npm dinonaktifkan.
5. Checksum paket npm juga mencakup biner bawaan.

Kerugian:

1. Paket npm yang diinstal lebih besar pada disk. Menggunakan [Node-API](https://nodejs.org/api/n-api.html) mengurangi ini karena biner Node-API kompatibel dengan runtime-agnostic dan forward-compatible.
2. Penerbitan sedikit lebih rumit, karena `npm publish` harus dilakukan setelah mengompilasi dan mengambil biner bawaan (biasanya dalam CI).

## <a name="usage"></a>Penggunaan

Gunakan [`prebuild`](https://github.com/prebuild/prebuild) untuk membuat dan mengunggah biner bawaan. Kemudian ubah skrip instal package.json Anda menjadi:

```json
{
  "scripts": {
    "install": "prebuild-install || node-gyp rebuild"
  }
}
```

### <a name="help"></a>Bantuan

```
prebuild-install [options]

  --download    -d  [url]       (download prebuilds, no url means github)
  --target      -t  version     (version to install for)
  --runtime     -r  runtime     (Node runtime [node, napi or electron] to build or install for, default is node)
  --path        -p  path        (make a prebuild-install here)
  --token       -T  gh-token    (github token for private repos)
  --arch            arch        (target CPU architecture, see Node OS module docs, default is current arch)
  --platform        platform    (target platform, see Node OS module docs, default is current platform)
  --tag-prefix <prefix>         (github tag prefix, default is "v")
  --build-from-source           (skip prebuild download)
  --verbose                     (log verbosely)
  --libc                        (use provided libc rather than system default)
  --debug                       (set Debug or Release configuration)
  --version                     (print prebuild-install version and exit)
```

Ketika `prebuild-install` dijalankan melalui skrip `npm`, opsi `--build-from-source`, `--debug`, `--download`, `--target`, `--runtime`, `--arch`, dan `--platform` dapat diteruskan melalui argumen yang diberikan ke perintah `npm`.

Atau Anda dapat mengatur variabel lingkungan `npm_config_build_from_source=true`, `npm_config_platform`, `npm_config_arch`, `npm_config_target`, dan `npm_config_runtime`.

### <a name="private-repositories"></a>Repositori Privat

`prebuild-install` mendukung pengunduhan yang dibangun sebelumnya dari repositori GitHub privat menggunakan `-T <github-token>`:

```
$ prebuild-install -T <github-token>
```

Jika Anda tidak ingin menggunakan token di cli, Anda dapat memasukkannya ke `~/.prebuild-installrc`:

```
token=<github-token>
```

Atau Anda dapat menentukannya di variabel lingkungan `prebuild-install_token`.

Perhatikan bahwa menggunakan token GitHub menggunakan API untuk menyelesaikan rilis yang benar yang berarti bahwa Anda tunduk pada ([Batas Tarif GitHub](https://developer.github.com/v3/rate_limit/)).

### <a name="create-github-token"></a>Buat Token GitHub

Untuk membuat token:

- Pergi ke [halaman ini](https://github.com/settings/tokens)
- Klik tombol `Generate new token`
- Beri nama token dan klik tombol `Generate token`, lihat di bawah

![token bawaan](https://cloud.githubusercontent.com/assets/13285808/20844584/d0b85268-b8c0-11e6-8b08-2b19522165a9.png)

Cakupan default harus berfungsi dengan baik.

### <a name="custom-binaries"></a>Biner kustom

Pengguna akhir dapat mengganti lokasi unduhan biner melalui variabel lingkungan dalam file .npmrc mereka.
Variabel harus memenuhi masker `% your package name %_binary_host` atau `% your package name %_binary_host_mirror`. Contohnya:

```
leveldown_binary_host=http://overriden-host.com/overriden-path
```

Perhatikan bahwa subpath versi paket dan nama file akan tetap ditambahkan.
Jadi jika Anda menginstal `leveldown@1.2.3` url yang dihasilkan adalah:

```
http://overriden-host.com/overriden-path/v1.2.3/leveldown-v1.2.3-node-v57-win32-x64.tar.gz
```

#### <a name="local-prebuilds"></a>Bawaan lokal

Jika Anda ingin menggunakan bawaan dari sistem file lokal, Anda dapat menggunakan `% your package name %_local_prebuilds` variabel .npmrc untuk mengatur jalur ke folder yang berisi bawaan. Contohnya:

```
leveldown_local_prebuilds=/path/to/prebuilds
```

Opsi ini akan terlihat langsung di folder tersebut untuk bundel yang dibuat dengan `prebuild`, misalnya:

```
/path/to/prebuilds/leveldown-v1.2.3-node-v57-win32-x64.tar.gz
```

Jalur non-absolut diselesaikan relatif terhadap direktori paket yang menggunakan prebuild-install, misalnya untuk dependensi berlapis.

### <a name="cache"></a>Cache

Semua biner bawaan di-cache untuk meminimalkan lalu lintas. Jadi pertama-tama, `prebuild-install` mengambil biner dari cache dan jika tidak ada biner yang dapat ditemukan, biner akan diunduh. Tergantung pada lingkungan, folder cache ditentukan dalam urutan berikut:

- `${npm_config_cache}/_prebuilds`
- `${APP_DATA}/npm-cache/_prebuilds`
- `${HOME}/.npm/_prebuilds`

## <a name="license"></a>Lisensi

MIT
