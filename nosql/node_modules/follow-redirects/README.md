---
ms.openlocfilehash: aa7ddb2f2ce7709064cf5157f709fc1eff52cff7
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: id-ID
ms.lasthandoff: 02/05/2022
ms.locfileid: "138051642"
---
## <a name="follow-redirects"></a>Ikuti Pengalihan

Pengganti drop-in untuk modul `http` dan `https` Node yang secara otomatis mengikuti pengalihan.

[![versi npm](https://img.shields.io/npm/v/follow-redirects.svg)](https://www.npmjs.com/package/follow-redirects)
[![Status Build](https://github.com/follow-redirects/follow-redirects/workflows/CI/badge.svg)](https://github.com/follow-redirects/follow-redirects/actions)
[![Status Cakupan](https://coveralls.io/repos/follow-redirects/follow-redirects/badge.svg?branch=master)](https://coveralls.io/r/follow-redirects/follow-redirects?branch=master)
[![unduhan npm](https://img.shields.io/npm/dm/follow-redirects.svg)](https://www.npmjs.com/package/follow-redirects)
[![Sponsor di GitHub](https://img.shields.io/static/v1?label=Sponsor&message=%F0%9F%92%96&logo=GitHub)](https://github.com/sponsors/RubenVerborgh)

`follow-redirects` menyediakan metode [permintaan](https://nodejs.org/api/http.html#http_http_request_options_callback) dan [dapatkan](https://nodejs.org/api/http.html#http_http_get_options_callback) yang berperilaku identik dengan yang ditemukan pada modul [http](https://nodejs.org/api/http.html#http_http_request_options_callback) dan [https](https://nodejs.org/api/https.html#https_https_request_options_callback) asli, dengan pengecualian bahwa mereka akan dengan lancar mengikuti pengalihan.

```javascript
const { http, https } = require('follow-redirects');

http.get('http://bit.ly/900913', response => {
  response.on('data', chunk => {
    console.log(chunk);
  });
}).on('error', err => {
  console.error(err);
});
```

Anda dapat memeriksa URL akhir yang dialihkan melalui properti `responseUrl` di `response`.
Jika tidak terjadi pengalihan, `responseUrl` adalah URL permintaan asli.

```javascript
const request = https.request({
  host: 'bitly.com',
  path: '/UHfDGO',
}, response => {
  console.log(response.responseUrl);
  // 'http://duckduckgo.com/robots.txt'
});
request.end();
```

## <a name="options"></a>Opsi
### <a name="global-options"></a>Opsi global
Opsi global diatur langsung pada modul `follow-redirects`:

```javascript
const followRedirects = require('follow-redirects');
followRedirects.maxRedirects = 10;
followRedirects.maxBodyLength = 20 * 1024 * 1024; // 20 MB
```

Opsi global berikut didukung:

- `maxRedirects` (default: `21`) – menetapkan jumlah maksimum pengalihan yang diizinkan; jika terlampaui, kesalahan akan dikirimkan.

- `maxBodyLength` (default: 10MB) – menetapkan ukuran maksimum badan permintaan; jika terlampaui, kesalahan akan dikirimkan.

### <a name="per-request-options"></a>Opsi per permintaan
Opsi per permintaan diatur dengan meneruskan objek `options`:

```javascript
const url = require('url');
const { http, https } = require('follow-redirects');

const options = url.parse('http://bit.ly/900913');
options.maxRedirects = 10;
options.beforeRedirect = (options, { headers }) => {
  // Use this to adjust the request options upon redirecting,
  // to inspect the latest response headers,
  // or to cancel the request by throwing an error
  if (options.hostname === "example.com") {
    options.auth = "user:password";
  }
};
http.request(options);
```

Selain [HTTP standar](https://nodejs.org/api/http.html#http_http_request_options_callback) dan [opsi HTTPS](https://nodejs.org/api/https.html#https_https_request_options_callback), opsi per permintaan berikut didukung:
- `followRedirects` (default: `true`) – apakah pengalihan harus diikuti.

- `maxRedirects` (default: `21`) – menetapkan jumlah maksimum pengalihan yang diizinkan; jika terlampaui, kesalahan akan dikirimkan.

- `maxBodyLength` (default: 10MB) – menetapkan ukuran maksimum badan permintaan; jika terlampaui, kesalahan akan dikirimkan.

- `beforeRedirect` (default: `undefined`) – secara opsional mengubah permintaan `options` pada pengalihan, atau membatalkan permintaan dengan membuat kesalahan.

- `agents` (default: `undefined`) – mengatur opsi `agent` per protokol, karena HTTP dan HTTPS menggunakan agen yang berbeda. Contoh nilai: `{ http: new http.Agent(), https: new https.Agent() }`

- `trackRedirects` (default: `false`) – apakah akan menyimpan detail respons yang dialihkan ke dalam array `redirects` pada objek respons.


### <a name="advanced-usage"></a>Penggunaan tingkat lanjut
Secara default, `follow-redirects` akan menggunakan implementasi default Node.js dari [`http`](https://nodejs.org/api/http.html) dan [`https`](https://nodejs.org/api/https.html).
Untuk mengaktifkan fitur seperti penembolokan dan/atau pelacakan permintaan perantara, Anda mungkin ingin menggabungkan `follow-redirects` di sekitar implementasi protokol kustom:

```javascript
const { http, https } = require('follow-redirects').wrap({
  http: require('your-custom-http'),
  https: require('your-custom-https'),
});
```

Protokol kustom tersebut hanya memerlukan implementasi metode `request`.

## <a name="browser-usage"></a>Penggunaan Browser

Karena cara kerja browser, browser `http` dan `https` yang setara melakukan pengalihan secara default.

Dengan meminta `follow-redirects` menggunakan cara ini:
```javascript
const http = require('follow-redirects/http');
const https = require('follow-redirects/https');
```
Anda dapat dengan mudah memberi tahu webpack dan teman untuk mengganti `follow-redirect` dengan versi bawaan:

```json
{
  "follow-redirects/http"  : "http",
  "follow-redirects/https" : "https"
}
```

## <a name="contributing"></a>Berkontribusi

Permintaan Pull selalu diterima. Harap [ajukan masalah](https://github.com/follow-redirects/follow-redirects/issues) dengan merinci proposal Anda sebelum menginvestasikan waktu Anda yang berharga. Fitur tambahan dan perbaikan bug harus disertai dengan pengujian. Anda dapat menjalankan rangkaian pengujian secara lokal dengan perintah `npm test` sederhana.

## <a name="debug-logging"></a>Pengelogan Debug

`follow-redirects` menggunakan [debug](https://www.npmjs.com/package/debug) yang sangat baik untuk pengelogan. Untuk mengaktifkan pengelogan, setel variabel lingkungan `DEBUG=follow-redirects` untuk output debug hanya dari modul ini. Saat menjalankan rangkaian uji, terkadang menguntungkan untuk mengatur `DEBUG=*` untuk melihat output dari server ekspres juga.

## <a name="authors"></a>Penulis

- [Ruben Verborgh](https://ruben.verborgh.org/)
- [Olivier Lalonde](mailto:olalonde@gmail.com)
- [James Talmage](mailto:james@talmage.io)

## <a name="license"></a>Lisensi

[Lisensi MIT](https://github.com/follow-redirects/follow-redirects/blob/master/LICENSE)
