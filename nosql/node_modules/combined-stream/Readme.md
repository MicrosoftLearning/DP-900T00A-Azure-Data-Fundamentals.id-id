---
ms.openlocfilehash: 0e4384a6edea7b3a580ffa5b32236b7f8b251834
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: id-ID
ms.lasthandoff: 02/05/2022
ms.locfileid: "138051381"
---
# <a name="combined-stream"></a>combined-stream

Aliran yang mengirimkan beberapa aliran lain satu demi satu.

**NB** Saat ini `combined-stream` hanya berfungsi dengan aliran versi 1. Ada upaya berkelanjutan untuk mengalihkan pustaka ini ke aliran versi 2. Bantuan apa pun diterima. :) Sementara itu, Anda dapat menjelajahi pustaka lain yang menyediakan dukungan streams2 dengan kompatibilitas yang kurang lebih dengan `combined-stream`.

- [combined-stream2](https://www.npmjs.com/package/combined-stream2): Pengganti yang kompatibel dengan drop-in streams2 untuk modul combined-stream.

- [multistream](https://www.npmjs.com/package/multistream): Aliran yang mengirimkan beberapa aliran lain satu demi satu.

## <a name="installation"></a>Penginstalan

``` bash
npm install combined-stream
```

## <a name="usage"></a>Penggunaan

Berikut adalah contoh sederhana yang menunjukkan bagaimana cara menggunakan combined-stream untuk menggabungkan dua file menjadi satu:

``` javascript
var CombinedStream = require('combined-stream');
var fs = require('fs');

var combinedStream = CombinedStream.create();
combinedStream.append(fs.createReadStream('file1.txt'));
combinedStream.append(fs.createReadStream('file2.txt'));

combinedStream.pipe(fs.createWriteStream('combined.txt'));
```

Sementara contoh di atas berfungsi dengan baik, contoh akan menjeda semua aliran sumber sampai dibutuhkan. Jika Anda tidak ingin hal tersebut terjadi, Anda dapat mengatur `pauseStreams` ke `false`:

``` javascript
var CombinedStream = require('combined-stream');
var fs = require('fs');

var combinedStream = CombinedStream.create({pauseStreams: false});
combinedStream.append(fs.createReadStream('file1.txt'));
combinedStream.append(fs.createReadStream('file2.txt'));

combinedStream.pipe(fs.createWriteStream('combined.txt'));
```

Namun, bagaimana jika Anda belum memiliki semua aliran sumber, atau Anda tidak ingin segera mengalokasikan sumber daya (deskriptor file, memori, dll.)?
Dalam hal ini, cukup berikan panggilan balik yang memasok aliran dengan memanggil fungsi `next()`:

``` javascript
var CombinedStream = require('combined-stream');
var fs = require('fs');

var combinedStream = CombinedStream.create();
combinedStream.append(function(next) {
  next(fs.createReadStream('file1.txt'));
});
combinedStream.append(function(next) {
  next(fs.createReadStream('file2.txt'));
});

combinedStream.pipe(fs.createWriteStream('combined.txt'));
```

## <a name="api"></a>API

### <a name="combinedstreamcreateoptions"></a>CombinedStream.create([options])

Mengembalikan objek aliran gabungan baru. Opsi yang tersedia adalah:

* `maxDataSize`
* `pauseStreams`

Efek dari opsi tersebut dijelaskan di bawah ini.

### <a name="combinedstreampausestreams--true"></a>combinedStream.pauseStreams = `true`

Apakah akan menerapkan tekanan balik ke aliran yang mendasarinya. Jika diatur ke `false`, aliran yang mendasari tidak akan pernah dijeda. Jika diatur ke `true`, aliran yang mendasari akan dijeda tepat setelah ditambahkan, serta saat `delayedStream.pipe()` ingin membatasi.

### <a name="combinedstreammaxdatasize--2--1024--1024"></a>combinedStream.maxDataSize = `2 * 1024 * 1024`

Jumlah maksimum byte (atau karakter) untuk buffer untuk semua aliran sumber.
Jika nilai ini terlampaui, `combinedStream` mengirimkan peristiwa `'error'`.

### <a name="combinedstreamdatasize--0"></a>combinedStream.dataSize = `0`

Jumlah byte (atau karakter) yang saat ini di-buffer oleh `combinedStream`.

### <a name="combinedstreamappendstream"></a>combinedStream.append(stream)

Menambahkan `stream` tertentu ke objek combinedStream. Jika `pauseStreams` diatur ke `true, aliran ini juga akan segera dijeda.

`streams` juga dapat berupa fungsi yang menggunakan satu parameter yang disebut `next`. `next` adalah fungsi yang harus dipanggil untuk menyediakan aliran `next`, lihat contoh di atas.

Terlepas dari bagaimana `stream` ditambahkan, combined-stream selalu melampirkan pendengar `'error'` ke dalamnya, jadi Anda tidak perlu melakukannya secara manual.

Kasus khusus: `stream` juga dapat berupa String atau Buffer.

### <a name="combinedstreamwritedata"></a>combinedStream.write(data)

Anda tidak boleh memanggilnya, `combinedStream` akan menangani pemipaan aliran yang ditambahkan ke dalamnya untuk Anda.

### <a name="combinedstreamresume"></a>combinedStream.resume()

Menyebabkan `combinedStream` mulai mengosongkan aliran yang dikelolanya. Fungsinya idempoten, serta mengirimkan peristiwa `'resume'` setiap kali yang biasanya mengalir ke aliran yang sedang dikosongkan.

### <a name="combinedstreampause"></a>combinedStream.pause();

Jika `combinedStream.pauseStreams` diatur ke `false`, ini tidak menghasilkan apa-apa.
Jika tidak, peristiwa `'pause'` dikirimkan, hal ini menuju ke aliran yang saat ini sedang dikosongkan, sehingga Anda dapat menggunakannya untuk menerapkan tekanan balik.

### <a name="combinedstreamend"></a>combinedStream.end();

Mengatur `combinedStream.writable` ke false, mengirimkan peristiwa `'end'`, dan menghapus semua aliran dari antrean.

### <a name="combinedstreamdestroy"></a>combinedStream.destroy();

Sama seperti `combinedStream.end()`, kecuali mengirimkan peristiwa `'close'`, bukan `'end'`.

## <a name="license"></a>Lisensi

combined-stream dilisensikan berdasarkan lisensi MIT.
