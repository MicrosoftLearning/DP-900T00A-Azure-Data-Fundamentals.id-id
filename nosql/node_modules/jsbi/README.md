---
ms.openlocfilehash: 6e78f9de8f21b6501e007e86f631942016f041dc
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: id-ID
ms.lasthandoff: 02/05/2022
ms.locfileid: "138051261"
---
# <a name="jsbi--pure-javascript-bigints-build-statushttpstravis-cicomgooglechromelabsjsbi-jsbi-on-npmhttpswwwnpmjscompackagejsbi"></a>JSBI — pure-JavaScript BigInts [![Status build](https://travis-ci.com/GoogleChromeLabs/jsbi.svg?branch=main)](https://travis-ci.com/GoogleChromeLabs/jsbi) [![jsbi di npm](https://img.shields.io/npm/v/jsbi)](https://www.npmjs.com/package/jsbi)

JSBI adalah implementasi JavaScript murni dari [proposal ECMAScript BigInt](https://tc39.es/proposal-bigint/), yang secara resmi menjadi bagian dari bahasa JavaScript di ES2020.

## <a name="installation"></a>Penginstalan

```sh
npm install jsbi --save
```

## <a name="usage"></a>Penggunaan

```js
import JSBI from './jsbi.mjs';

const max = JSBI.BigInt(Number.MAX_SAFE_INTEGER);
console.log(String(max));
// → '9007199254740991'
const other = JSBI.BigInt('2');
const result = JSBI.add(max, other);
console.log(String(result));
// → '9007199254740993'
```

Catatan: secara eksplisit memanggil `toString` di instans `JSBI` apa pun saat `console.log()`memasukkannya untuk melihat representasi numeriknya (misalnya `String(max)` atau `max.toString()`). Tanpanya (misalnya `console.log(max)`), Anda akan melihat objek yang mewakili nilai.

Gunakan [babel-plugin-transform-jsbi-to-bigint](https://github.com/GoogleChromeLabs/babel-plugin-transform-jsbi-to-bigint) untuk mengubah kode JSBI menjadi kode BigInt asli.

Lihat petunjuk mendetail di bawah ini untuk informasi selengkapnya.

## <a name="why"></a>Mengapa?

[BigInts Asli sudah dikirimkan](https://v8.dev/features/bigint) di browser modern (pada saat penulisan ini, Google Chrome 67+, Opera 54+, Firefox 68+) dan Node.js (v10.4+), dan diharapkan untuk hadir ke browser lain di masa mendatang — yang berarti Anda belum dapat menggunakannya jika ingin kode Anda berjalan di mana saja.

Untuk menggunakan BigInts dalam kode Anda hari ini, Anda memerlukan pustaka. Tetapi ada kesulitan: proposal BigInt mengubah perilaku operator (seperti `+`, `>=`, dll.) untuk berfungsi di BigInts. Perubahan ini tidak mungkin untuk diisi secara langsung; dan perubahan juga membuatnya tidak layak (dalam banyak kasus) untuk menerjemahkan kode BigInt ke kode panggilan balik menggunakan Babel atau alat serupa. Alasannya adalah bahwa transpilasi tersebut harus mengganti setiap operator tunggal dalam program dengan panggilan ke beberapa fungsi yang melakukan pemeriksaan tipe pada inputnya, yang akan menimbulkan penalti performa yang tidak dapat diterima.

Solusinya adalah melakukannya sebaliknya: tulis kode menggunakan sintaksis pustaka, dan [mentranspilasinya ke kode BigInt asli](https://github.com/GoogleChromeLabs/babel-plugin-transform-jsbi-to-bigint) jika tersedia. JSBI dirancang untuk tujuan ini: menyediakan implementasi "polyfill" BigInt yang berperilaku persis seperti BigInts asli yang akan datang, tetapi dengan sintaksis yang dapat Anda kirimkan di semua browser sekarang.

Keuntungannya dibandingkan pustaka bilangan bulat besar lainnya yang ada adalah:

- berperilaku persis seperti BigInts asli ketika tersedia, jadi untuk memigrasikannya, Anda dapat [secara mekanis](https://github.com/GoogleChromeLabs/babel-plugin-transform-jsbi-to-bigint) memperbarui sintaksis kode Anda; tidak perlu memikirkan kembali logikanya.
- fokus yang kuat pada performa. Rata-rata, JSBI memiliki performa yang kompetitif dengan implementasi asli yang saat ini dikirimkan oleh Google Chrome.

## <a name="how"></a>Bagaimana?

Kecuali untuk perbedaan mekanis dalam sintaksis, Anda menggunakan JSBI-BigInts hanya [seperti Anda menggunakan BigInts asli](https://developers.google.com/web/updates/2018/05/bigint). Beberapa hal bahkan terlihat sama, setelah Anda mengganti `BigInt` dengan `JSBI.BigInt`:

| Operasi            | BigInts asli          | JSBI                     |
| -------------------- | ----------------------- | ------------------------ |
| Pembuatan dari String | `a = BigInt('456')`     | `a = JSBI.BigInt('456')` |
| Pembuatan dari Angka | `a = BigInt(789)`       | `a = JSBI.BigInt(789)`   |
| Konversi ke String | `a.toString(radix)`     | `a.toString(radix)`      |
| Konversi ke Angka | `Number(a)`             | `JSBI.toNumber(a)`       |
| Pemotongan           | `BigInt.asIntN(64, a)`  | `JSBI.asIntN(64, a)`     |
|                      | `BigInt.asUintN(64, a)` | `JSBI.asUintN(64, a)`    |
| Pemeriksaan jenis           | `typeof a === 'bigint'` | `a instanceof JSBI`      |

Sebagian besar operator digantikan oleh pemanggilan metode:

| Operasi                   | BigInts asli | JSBI                              |
| --------------------------- | -------------- | --------------------------------- |
| Tambahan                    | `c = a + b`    | `c = JSBI.add(a, b)`              |
| Pengurangan                 | `c = a - b`    | `c = JSBI.subtract(a, b)`         |
| Perkalian              | `c = a * b`    | `c = JSBI.multiply(a, b)`         |
| Divisi                    | `c = a / b`    | `c = JSBI.divide(a, b)`           |
| Sisanya                   | `c = a % b`    | `c = JSBI.remainder(a, b)`        |
| Eksponensial              | `c = a ** b`   | `c = JSBI.exponentiate(a, b)`     |
| Negasi                    | `b = -a`       | `b = JSBI.unaryMinus(a)`          |
| Negasi bitwise            | `b = ~a`       | `b = JSBI.bitwiseNot(a)`          |
| Pergeseran kiri               | `c = a << b`   | `c = JSBI.leftShift(a, b)`        |
| Pergeseran kanan              | `c = a >> b`   | `c = JSBI.signedRightShift(a, b)` |
| Bitwise “and”               | `c = a & b`    | `c = JSBI.bitwiseAnd(a, b)`       |
| Bitwise “or”                | `c = a \| b`   | `c = JSBI.bitwiseOr(a, b)`        |
| Bitwise “xor”               | `c = a ^ b`    | `c = JSBI.bitwiseXor(a, b)`       |
| Perbandingan dengan BigInts lainnya | `a === b`      | `JSBI.equal(a, b)`                |
|                             | `a !== b`      | `JSBI.notEqual(a, b)`             |
|                             | `a < b`        | `JSBI.lessThan(a, b)`             |
|                             | `a <= b`       | `JSBI.lessThanOrEqual(a, b)`      |
|                             | `a > b`        | `JSBI.greaterThan(a, b)`          |
|                             | `a >= b`       | `JSBI.greaterThanOrEqual(a, b)`   |

Fungsi di atas hanya beroperasi pada BigInts. (Fungsi tidak melakukan pemeriksaan tipe dalam implementasi saat ini, karena pemeriksaan tersebut membuang-buang waktu ketika kami berasumsi bahwa Anda tahu apa yang Anda lakukan. Jangan mencoba memanggilnya dengan input lain, atau Anda akan mendapatkan kegagalan "menarik"!)

Beberapa operasi sangat menarik ketika Anda memberi mereka input dari tipe campuran, misalnya membandingkan BigInt dengan Angka, atau menggabungkan string dengan BigInt. Mereka diimplementasikan sebagai fungsi statis yang dinamai sesuai dengan operator asli masing-masing:

| Operasi                       | BigInts asli | JSBI             |
| ------------------------------- | -------------- | ---------------- |
| Perbandingan kesetaraan abstrak    | `x == y`       | `JSBI.EQ(x, y)`  |
| Umum "tidak sama"             | `x != y`       | `JSBI.NE(x, y)`  |
| Umum "kurang dari"             | `x < y`        | `JSBI.LT(x, y)`  |
| Umum "kurang dari atau sama"    | `x <= y`       | `JSBI.LE(x, y)`  |
| Generik "lebih besar dari"          | `x > y`        | `JSBI.GT(x, y)`  |
| Generik "lebih besar dari atau sama" | `x >= y`       | `JSBI.GE(x, y)`  |
| Tambahan umum                | `x + y`        | `JSBI.ADD(x, y)` |

Nama variabel `x` dan `y` di sini menunjukkan bahwa variabel dapat merujuk ke apa saja, misalnya: `JSBI.GT(101.5, BigInt('100'))` atau `str = JSBI.ADD('result: ', BigInt('0x2A'))`.

Sayangnya, ada juga beberapa hal yang tidak didukung sama sekali:

| Operasi yang tidak didukung | BigInts asli | JSBI                                 |
| --------------------- | -------------- | ------------------------------------ |
| harfiah              | `a = 123n;`    | T/A ☹                                |
| tahapan             | `a++`          | T/A ☹                                |
|                       | `a + 1n`       | `JSBI.add(a, JSBI.BigInt('1'))`      |
| penurunan             | `a--`          | T/A ☹                                |
|                       | `a - 1n`       | `JSBI.subtract(a, JSBI.BigInt('1'))` |

Tidak mungkin meniru perilaku yang tepat dari operator `++` dan `--` asli dengan fungsi statis. Karena JSBI dimaksudkan untuk diubah pada akhirnya, JSBI tidak memberikan alternatif yang serupa tetapi berbeda. Anda dapat menggunakan `JSBI.add()` dan `JSBI.subtract()` sebagai gantinya.

## <a name="when"></a>Kapan?

Sekarang! Pustaka JSBI siap digunakan sekarang.

Setelah BigInts didukung secara asli di mana-mana, gunakan [babel-plugin-transform-jsbi-to-bigint](https://github.com/GoogleChromeLabs/babel-plugin-transform-jsbi-to-bigint) untuk mengubah kode JSBI Anda menjadi kode BigInt asli untuk selamanya.

Lihat [pelacak masalah kami](https://github.com/GoogleChromeLabs/jsbi/issues) untuk mempelajari selengkapnya tentang rencana masa depan kami untuk JSBI, dan silakan bergabung dalam diskusi!

Rencana masa depan yang lebih kabur adalah menggunakan pustaka JSBI (atau ekstensinya) sebagai landasan untuk fungsionalitas tambahan terkait BigInt. Proposal resmi sengaja dibuat sedikit, dan menyisakan “fungsi pustaka” lebih lanjut untuk proposal lanjutan. Contohnya adalah fungsi `exp`+`mod` gabungan, dan fungsi manipulasi bit.

## <a name="development"></a>Pengembangan

1. Kloning repositori ini dan `cd` ke dalam direktori lokal.

1. Gunakan versi Node.js yang ditentukan dalam `.nvmrc`:

     ```sh
     nvm use
     ```

1. Instal dependensi pengembangan:

    ```sh
    npm install
    ```

1. Jalankan pengujian:

    ```sh
    npm test
    ```

    Lihat `npm run` untuk daftar perintah.

## <a name="for-maintainers"></a>Untuk pengelola

### <a name="how-to-publish-a-new-release"></a>Cara menerbitkan rilis baru

1. Di cabang `main`, tekan nomor versi di `package.json`:

    ```sh
    npm version patch -m 'Release v%s'
    ```

    Sebagai ganti `patch`, gunakan `minor` atau `major` [sebagaimana diperlukan](https://semver.org/).

    Perhatikan bahwa ini menghasilkan tag komit + Git.

1. Dorong komit dan tag rilis:

    ```sh
    git push
    ```

    CI kami kemudian secara otomatis menerbitkan rilis baru ke npm.
