---
ms.openlocfilehash: 81fd1455668c9343defe69cbbbff10d48b1f97ef
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: id-ID
ms.lasthandoff: 02/05/2022
ms.locfileid: "138051914"
---
<a name="gauge"></a>pengukur
=====

Bilah pengukur/progres horizontal berbasis terminal yang hampir tanpa status.

```javascript
var Gauge = require("gauge")

var gauge = new Gauge()

gauge.show("test", 0.20)

gauge.pulse("this")

gauge.hide()
```

![](gauge-demo.gif)


### <a name="changes-from-1x"></a>PERUBAHAN DARI 1.x

Gauge 2.x melanggar rilis, silakan lihat [changelog] untuk detail tentang apa yang berubah jika Anda sebelumnya adalah pengguna modul ini.

[changelog]: CHANGELOG.md

### <a name="the-gauge-class"></a>KELAS PENGUKUR

Ini adalah antarmuka khas modul– hal ini menyediakan antarmuka nyalakan-dan-lupa yang cantik untuk menampilkan informasi status Anda.

```
var Gauge = require("gauge")

var gauge = new Gauge([stream], [options])
```

* **stream** – *(opsional, STDERR default)* Aliran yang akan ditulisi pembaruan bilah kemajuan.  Gauge menghormati tekanan balik dan akan menjeda sebagian besar tulisan jika diindikasikan.
* **opsi** – *(opsional)* Objek option.

Membangun pengukur baru. Pengukur digambar pada satu baris, dan tidak digambar jika **aliran** bukan tty dan tty tidak diberikan secara eksplisit.

Jika **stream** adalah terminal atau jika Anda meneruskan **tty** ke **opsi** maka kami akan mendeteksi perubahan ukuran terminal dan menggambar ulang agar sesuai.  Kami melakukan ini dengan mengawasi peristiwa `resize` di tty.  (Untuk mengatasi bug dalam versi Node sebelum 2.5.0, kami mengawasinya di stdout jika tty adalah stderr.) Mengubah ukuran ke ukuran jendela yang lebih besar akan membuat tampilan menjadi bersih, tetapi mengecilkan jendela akan selalu menghasilkan beberapa kerusakan pada tampilan.

**PENTING:** Jika sebelumnya Anda meneruskan aliran non-tty tetapi Anda masih menginginkan output (misalnya, aliran yang dibungkus oleh modul `ansi`) maka Anda harus meneruskan opsi **tty** di bawah, karena `gauge` membutuhkan akses ke tty yang mendasarinya untuk melakukan hal-hal seperti mengubah ukuran terminal dan mendeteksi lebar terminal.

Objek **options** dapat memiliki properti berikut, semuanya bersifat opsional:

* **updateInterval**: Seberapa sering pembaruan pengukur harus diambil, dalam milidetik.
* **fixedFramerate**: Defaultnya diatur ke false pada node 0.8, true pada yang lainnya.  Jika true, pengatur waktu dibuat untuk dipicu sekali setiap `updateInterval` md, jika false, pembaruan dicetak segera setelah masuk tetapi pembaruan lebih sering daripada `updateInterval` diabaikan.  Alasan 0.8 tidak mengatur ini ke true adalah karena ia tidak dapat `unref` pengatur waktunya sehingga akan menghentikan program Anda untuk keluar– jika Anda ingin menggunakan fitur ini dengan 0.8, pastikan menelepon `gauge.disable()` sebelum mengharapkan program Anda untuk keluar.
* **themes**: Kumpulan tema yang akan digunakan saat memilih tema yang akan digunakan. Defaultnya adalah `gauge/themes`, lihat dokumeYou can disable this and it won't register the exit handlntasi [theme] untuk detailnya.
* **theme**: Pilih tema yang akan digunakan, dapat berupa:
  * Objek theme, dalam hal ini **theme** tidak digunakan.
  * Nama theme, yang akan dicari di objek *theme* saat ini.
  * Objek configuration dengan salah satu kunci `hasUnicode`, `hasColor` atau `platform`, yang jika akan digunakan untuk mengesampingkan tebakan kita saat membuat pemilihan theme default.

  Jika tidak ada tema yang dipilih, maka default akan dipilih menggunakan kombinasi tebakan terbaik kami di OS Anda, dukungan warna, dan dukungan unicode.
* **template**: Menjelaskan seperti apa tampilan pengukur Anda.  Standarnya adalah apa yang digunakan npm.  [Dokumentasi] terperinci nanti ada di dokumen ini.
* **hideCursor**: Defaultnya diatur ke true.  Jika true, maka kursor akan disembunyikan saat pengukur ditampilkan.
* **tty**: Tty yang akhirnya Anda tulis.  Defaultnya sama dengan **stream**.  Ini digunakan untuk mendeteksi lebar terminal dan mengubah ukuran. Lebar yang digunakan adalah `tty.columns - 1`. Jika tidak ada tty yang tersedia maka lebar `79` diasumsikan.
* **enabled**: Defaultnya diatur ke true jika `tty` adalah TTY, false sebaliknya.  Jika true, pengukur mulai diaktifkan.  Jika dinonaktifkan, maka semua perintah pembaruan akan diabaikan dan tidak ada pengukur yang akan dicetak sampai Anda memanggil `.enable()`.
* **Plumbing**: Kelas yang digunakan untuk benar-benar membuat pengukur untuk pencetakan.  Defaultnya diatur ke `require('gauge/plumbing')` dan biasanya Anda tidak perlu menimpa ini.
* **cleanupOnExit**: Defaultnya diatur ke true. Biasanya kami mendaftarkan pengendali keluar untuk memastikan kursor Anda diaktifkan kembali dan bilah progres terhapus saat proses Anda keluar, bahkan jika Anda menekan tombol Ctrl-C atau keluar secara tidak terduga. Anda dapat menonaktifkannya dan hal ini tidak akan mendaftarkan handler keluar.

[has-unicode]: https://www.npmjs.com/package/has-unicode
[theme]: #themes
[dokumentasi]: #templates

#### `gauge.show(section | status, [completed])`

Argumen pertama adalah bagian, nama hal saat ini yang berkontribusi pada progres, atau objek dengan kunci seperti **bagian**, **subbagian** & **selesai** ( atau yang lain yang Anda ketikkan dalam template kustom).  Jika Anda tidak ingin memperbarui atau mengatur semua ini, Anda dapat meneruskan `null` dan hal ini akan diabaikan.

Argumen kedua adalah persen selesai sebagai nilai antara 0 dan 1.
Tanpa ini, penyelesaian tidak diperbarui. Anda juga akan mencatat bahwa penyelesaian dapat diteruskan sebagai bagian dari objek status sebagai argumen pertama. Jika keduanya dan argumen yang selesai diteruskan, argumen yang selesai menang.

#### `gauge.hide([cb])`

Menghapus pengukur dari terminal.  Secara opsional, panggilan balik `cb` setelah IO memiliki kesempatan untuk terjadi (saat ini hanya berarti setelah `setImmediate` dipanggil kembali.)

Ternyata ini penting ketika Anda menjeda bilah progres pada satu pegangan file dan mencetak ke yang lain– jika tidak (dengan cetakan yang cukup besar) simpul dapat berakhir mencetak bit "bilah progres akhir" ke pegangan file bilah progres sementara hal-hal lain sedang mencetak ke filehandle lain. Ini mendapatkan interleaved dapat menyebabkan korupsi di beberapa terminal.

#### `gauge.pulse([subsection])`

* **subbagian** – *(opsional)* Hal spesifik yang memicu dorongan ini

Memutar pemintal di pengukur untuk menampilkan output.  Jika **subbagian** disertakan, maka akan digabungkan dengan nama belakang yang diteruskan ke `gauge.show`.

#### `gauge.disable()`

Menyembunyikan pengukur dan mengabaikan panggilan lebih lanjut ke `show` atau `pulse`.

#### `gauge.enable()`

Menampilkan pengukur dan melanjutkan pembaruan saat `show` atau `pulse` dipanggil.

#### `gauge.isEnabled()`

Menampilkan nilai true jika pengukur diaktifkan.

#### `gauge.setThemeset(themes)`

Mengubah kumpulan tema untuk memilih tema. Sama seperti opsi `themes` yang digunakan dalam konstruktor. Tema akan dipilih kembali dari kumpulan tema ini.

#### `gauge.setTheme(theme)`

Ubah tema aktif, akan ditampilkan dengan peristiwa atau dorongan berikutnya. Ini dapat berupa:

* Objek theme, dalam hal ini **theme** tidak digunakan.
* Nama theme, yang akan dicari di objek *theme* saat ini.
* Objek configuration dengan salah satu kunci `hasUnicode`, `hasColor` atau `platform`, yang jika akan digunakan untuk mengesampingkan tebakan kita saat membuat pemilihan theme default.

Jika tidak ada tema yang dipilih, maka default akan dipilih menggunakan kombinasi tebakan terbaik kami di OS Anda, dukungan warna, dan dukungan unicode.

#### `gauge.setTemplate(template)`

Ubah template aktif, akan ditampilkan dengan peragaan atau dorongan berikutnya

### <a name="tracking-completion"></a>Pelacakan Selesai

Jika Anda memiliki lebih dari satu hal yang ingin Anda lacak penyelesaiannya, Anda mungkin melihat [are-we-there-yet] yang terkait.  Peristiwa `change` ini dapat dihubungkan ke metode `show` untuk mendapatkan antarmuka bilah progres yang lebih umum.

[are-we-there-yet]: https://www.npmjs.com/package/are-we-there-yet

### <a name="themes"></a>THEMES

```
var themes = require('gauge/themes')

// fetch the default color unicode theme for this platform
var ourTheme = themes({hasUnicode: true, hasColor: true})

// fetch the default non-color unicode theme for osx
var ourTheme = themes({hasUnicode: true, hasColor: false, platform: 'darwin'})

// create a new theme based on the color ascii theme for this platform
// that brackets the progress bar with arrows
var ourTheme = themes.newTheme(theme(hasUnicode: false, hasColor: true}), {
  preProgressbar: '→',
  postProgressbar: '←'
})
```

Objek yang ditampilkan oleh `gauge/themes` adalah turunan dari kelas `ThemeSet`.

```
var ThemeSet = require('gauge/theme-set')
var themes = new ThemeSet()
// or
var themes = require('gauge/themes')
var mythemes = themes.newThemeset() // creates a new themeset based on the default themes
```

#### <a name="themesopts"></a>themes(opts)
#### <a name="themesgetdefaultopts"></a>themes.getDefault(opts)

Objek theme adalah fungsi yang mengambil theme default berdasarkan platform, unicode, dan dukungan warna.

Opsi adalah objek dengan properti berikut:

* **hasUnicode** - Jika true, ambil tema unicode, jika tidak ada tema unicode yang tersedia maka tema non-unicode akan digunakan.
* **hasColor** - Jika true, mengambil tema warna, jika tidak ada tema warna yang tersedia, tema non-warna akan digunakan.
* **platform** (opsional) - Defaultnya diatur ke `process.platform`.  Jika tidak ada kecocokan platform yang tersedia, maka `fallback` digunakan sebagai gantinya.

Jika tidak ada tema yang kompatibel dapat ditemukan maka kesalahan akan muncul dengan `code` dari `EMISSINGTHEME`.

#### <a name="themesaddthemethemename-themeobj"></a>themes.addTheme(themeName, themeObj)
#### <a name="themesaddthemethemename-parenttheme-newtheme"></a>themes.addTheme(themeName, [parentTheme], newTheme)

Menambahkan tema bernama ke kumpulan tema.  Anda dapat meneruskan objek theme, seperti yang ditampilkan oleh `themes.newTheme` atau argumen yang akan Anda berikan ke `themes.newTheme`.

#### <a name="themesgetthemenames"></a>themes.getThemeNames()

Menampilkan daftar semua nama tema dalam kumpulan tema ini. Cocok untuk digunakan di `themes.getTheme(…)`.

#### <a name="themesgetthemename"></a>themes.getTheme(name)

Menampilkan objek theme dari kumpulan tema ini bernama `name`.

Jika `name` tidak ada dalam kumpulan tema ini, kesalahan akan muncul dengan `code` dari `EMISSINGTHEME`.

#### <a name="themessetdefaultopts-themename"></a>themes.setDefault([opts], themeName)

`opts` adalah objek dengan properti berikut.

* **platform** - Defaultnya diatur ke `'fallback'`.  Jika tema Anda adalah platform khusus, tentukan di sini dengan platform dari `process.platform`, misalnya, `win32`, `darwin`, dll.
* **hasUnicode** - Defaultnya diatur ke `false`. Jika tema Anda menggunakan unicode, Anda harus mengaturnya ke true.
* **hasColor** - Defaultnya diatur ke `false`.  Jika tema Anda menggunakan warna, Anda harus mengaturnya ke true.

`themeName` adalah nama tema (seperti yang diberikan pada `addTheme`) yang akan digunakan untuk kumpulan `opts` ini.

#### <a name="themesnewthemeparenttheme-newtheme"></a>themes.newTheme([parentTheme,] newTheme)

Buat objek theme baru berdasarkan `parentTheme`.  Jika tidak ada `parentTheme` yang disediakan, maka parentTheme minimal yang mendefinisikan fungsi untuk merender indikator aktivitas (pemintal) dan bilah progres akan ditentukan. (Induk fallback ini didefinisikan dalam `gauge/base-theme`.)

newTheme harus menjadi objek kosong– kita akan mulai dengan membahas properti yang ditentukan oleh tema default:

* **preProgressbar** - ditampilkan sebelum bilah progres, jika bilah progres ditampilkan.
* **postProgressbar** - ditampilkan setelah bilah progres, jika bilah progres ditampilkan.
* **progressBarTheme** - Subtema yang diteruskan ke perender bilah progres, ini adalah objek dengan properti `complete` dan `remaining` yang merupakan string yang ingin Anda ulangi untuk bagian bilah progres tersebut.
* **activityIndicatorTheme** - Tema untuk indikator aktivitas (pemintal), ini bisa berupa string, dengan setiap karakter adalah langkah yang berbeda, atau array string.
* **preSubsection** - Ditampilkan sebagai pemisah antara `section` dan `subsection` saat yang terakhir dicetak.

Secara lebih umum, tema dapat memiliki nilai apa pun yang akan menjadi nilai valid saat merender template. Properti dalam tema digunakan ketika namanya cocok dengan jenis di template. Nilai-nilai mereka dapat berupa:

* **string & angka** - Mereka akan disertakan apa adanya
* **fungsi (values, theme, width)** - Akan menampilkan apa yang Anda inginkan dalam output.
  *value* adalah objek dengan nilai yang diberikan melalui `gauge.show`, *theme* adalah tema khusus untuk item ini (lihat di bawah) atau objek tema ini, dan *width* adalah jumlah karakter lebar hasil Anda.

Ada beberapa awalan khusus:

* **pre** - Ditampilkan sebelum properti, jika ditampilkan.
* **post** - Ditampilkan setelah properti, jika ditampilkan.

Dan satu akhiran khusus:

* **Theme** - Nilainya diteruskan ke item jenis fungsi sebagai tema.

#### <a name="themesaddtoallthemestheme"></a>themes.addToAllThemes(theme)

Ini *bercampur* `theme` ke dalam semua tema yang saat ini ditentukan. Ini juga menambahkannya ke tema induk default untuk kumpulan tema ini, jadi tema mendatang yang ditambahkan ke kumpulan tema ini akan mendapatkan nilai dari `theme` secara default.

#### <a name="themesnewthemeset"></a>themes.newThemeset()

Menyalin kumpulan tema saat ini ke yang baru.  Ini memungkinkan Anda untuk dengan mudah mewarisi satu set tema dari yang lain.

### <a name="templates"></a>TEMPLATES

Template adalah array objek dan string yang, setelah dievaluasi, akan diubah menjadi garis pengukur.  Template defaultnya adalah:

```javascript
[
    {type: 'progressbar', length: 20},
    {type: 'activityIndicator', kerning: 1, length: 1},
    {type: 'section', kerning: 1, default: ''},
    {type: 'subsection', kerning: 1, default: ''}
]
```

Berbagai elemen template dapat berupa **string biasa**, dalam hal ini elemen tersebut akan dimasukkan verbatum dalam output, atau objek dengan properti berikut:

* *type* dapat berupa salah satu dari berikut ini plus kunci apa pun yang Anda masukkan ke `gauge.show` plus kunci apa pun yang Anda miliki pada tema kustom.
  * `section` – Hal besar apa yang sedang Anda kerjakan sekarang.
  * `subsection` – Komponen apa dari benda itu yang saat ini berfungsi.
  * `activityIndicator` – Menampilkan pemintal menggunakan `activityIndicatorTheme` dari tema aktif Anda.
  * `progressbar` – Bilah progres yang mewakili `completed` Anda saat ini menggunakan `progressbarTheme` dari tema aktif Anda.
* *kerning* – Jumlah spasi yang harus ada di antara item ini dan item lainnya, jika item ini ditampilkan sama sekali.
* *maxLength* – Panjang maksimum untuk elemen ini. Jika nilainya lebih panjang maka akan terpotong.
* *minLength* – Panjang minimum untuk elemen ini. Jika nilainya lebih pendek maka akan diisi sesuai dengan nilai *align*.
* *align* – (Default: left) Kemungkinan nilainya adalah "left", "right" dan "center". Bekerja seperti yang Anda harapkan dari pengolah kata.
* *length* – Memberikan nilai tunggal untuk *minLength* dan *maxLength*. Jika *length* dan *minLength atau *maxLength* keduanya ditentukan, maka yang terakhir akan diutamakan.
* *value* – Nilai literal yang akan digunakan untuk item template ini.
* *default* – Nilai default yang digunakan untuk item template ini jika nilai tidak diteruskan.

### <a name="plumbing"></a>PLUMBING

Ini adalah yang super sederhana, jangan berasumsi apa-apa, jangan lakukan internal ajaib yang digunakan oleh pengukur untuk mengimplementasikan antarmuka biasa.

```
var Plumbing = require('gauge/plumbing')
var gauge = new Plumbing(theme, template, width)
```

* **theme**: Tema yang akan digunakan.
* **template**: Template yang akan digunakan.
* **width**: Seberapa lebar pengukur Anda seharusnya

#### `gauge.setTheme(theme)`

Ubah tema aktif.

#### `gauge.setTemplate(template)`

Ubah template yang aktif.

#### `gauge.setWidth(width)`

Ubah lebar yang akan dirender.

#### `gauge.hide()`

Menampilkan string yang diperlukan untuk menyembunyikan bilah progres

#### `gauge.hideCursor()`

Menampilkan string untuk menyembunyikan kursor.

#### `gauge.showCursor()`

Menampilkan string untuk menampilkan kursor.

#### `gauge.show(status)`

Menggunakan `status` untuk nilai, merender template yang disediakan dengan tema dan menampilkan string yang cocok untuk dicetak guna memperbarui pengukur.
