---
ms.openlocfilehash: 6aae1c88465791540ed5192f26e8f48b83eb2b47
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: id-ID
ms.lasthandoff: 02/05/2022
ms.locfileid: "138051474"
---
# <a name="node-jwa-build-statushttpstravis-ciorgbrianloveswordsnode-jwa"></a>node-jwa [![Status Build](https://travis-ci.org/brianloveswords/node-jwa.svg?branch=master)](https://travis-ci.org/brianloveswords/node-jwa)

Implementasi [JSON Web Algorithms](http://tools.ietf.org/id/draft-ietf-jose-json-web-algorithms-08.html) yang berfokus (secara eksklusif, pada titik ini) pada algoritma yang diperlukan untuk [JSON Web Signatures](http://self-issued.info/docs/draft-ietf-jose-json-web-signature.html).

Pustaka ini mendukung semua algoritma kriptografi yang diperlukan, direkomendasikan, dan opsional untuk JWS:

Nilai Parameter alg | Tanda Tangan Digital atau Algoritma MAC
----------------|----------------------------
HS256 | Kode Autentikasi Pesan Berbasis Hash menggunakan algoritme hash SHA-256
HS384 | Kode Autentikasi Pesan Berbasis Hash menggunakan algoritme hash SHA-384
HS512 | Kode Autentikasi Pesan Berbasis Hash menggunakan algoritme hash SHA-512
RS256 | RSASSA menggunakan algoritme hash SHA-256
RS384 | RSASSA menggunakan algoritme hash SHA-384
RS512 | RSASSA menggunakan algoritme hash SHA-512
PS256 | RSASSA-PSS menggunakan algoritme hash SHA-256
PS384 | RSASSA-PSS menggunakan algoritme hash SHA-384
PS512 | RSASSA-PSS menggunakan algoritme hash SHA-512
ES256 | ECDSA menggunakan kurva P-256 dan algoritme hash SHA-256
ES384 | ECDSA menggunakan kurva P-384 dan algoritme hash SHA-384
ES512 | ECDSA menggunakan kurva P-521 dan algoritme hash SHA-512
tidak ada | Tidak ada tanda tangan digital atau nilai MAC yang disertakan

Harap dicatat bahwa PS* hanya berfungsi pada Node 6.12+ (tidak termasuk 7.x).

# <a name="requirements"></a>Persyaratan

Untuk menjalankan tes, versi terbaru OpenSSL diperlukan. **Versi yang disertakan dengan OS X (OpenSSL 0.9.8r 8 Feb
2011) bukan yang terbaru**, karena tidak sepenuhnya mendukung kunci ECDSA. Anda harus menggunakan versi > 1.0.0; Saya menguji dengan OpenSSL 1.0.1c 10 Mei 2012.

# <a name="testing"></a>Pengujian

Untuk menjalankan tes, lakukan

```bash
$ npm test
```

Ini akan menghasilkan banyak pasangan kunci untuk digunakan dalam pengujian. Jika Anda ingin membuat pasangan kunci baru, lakukan `make clean` sebelum menjalankan `npm test` lagi.

## <a name="methodology"></a>Metodologi

Saya menyebarkan `openssl dgst -sign` untuk menguji tanda OpenSSL → Verifikasi JS dan `openssl dgst -verify` untuk menguji tanda JS → Verifikasi OpenSSL untuk masing-masing algoritma RSA dan ECDSA.

# <a name="usage"></a>Penggunaan

## <a name="jwaalgorithm"></a>jwa(algorithm)

Membuat objek `jwa` baru dengan metode `sign` dan `verify` untuk algoritma. Nilai yang valid untuk algoritma dapat ditemukan pada tabel di atas (`'HS256'`, `'HS384'`, dll.) dan tidak peka huruf besar/kecil. Melewati nilai algoritma yang tidak valid akan menghasilkan `TypeError`.


## <a name="jwasigninput-secretorprivatekey"></a>jwa#sign(input, secretOrPrivateKey)

Tanda tangani beberapa input dengan rahasia untuk algoritma HMAC, atau kunci privat untuk algoritma RSA dan ECDSA.

Jika input belum berupa string atau buffer, `JSON.stringify` akan dipanggil untuk mencoba memaksanya.

Untuk algoritma HMAC, `secretOrPrivateKey` harus berupa string atau buffer. Untuk ECDSA dan RSA, nilainya harus berupa string yang mewakili kunci **privat** yang dienkode PEM.

Output [base64url](http://en.wikipedia.org/wiki/Base64#URL_applications) diformat. Hal ini dilakukan untuk kenyamanan karena JWS mengharapkan tanda tangan dalam format ini. Jika aplikasi Anda memerlukan output dalam format yang berbeda, [harap buka masalah](https://github.com/brianloveswords/node-jwa/issues). Sementara itu, Anda dapat menggunakan [brianloveswords/base64url](https://github.com/brianloveswords/base64url) untuk memecahkan kode tanda tangan.

Pada nodejs *v0.11.8*, dukungan SPKAC diperkenalkan. Jika versi nodeJs Anda memenuhi syarat, Anda dapat meneruskan objek `{ key: '..', passphrase: '...' }`


## <a name="jwaverifyinput-signature-secretorpublickey"></a>jwa#verify(input, signature, secretOrPublicKey)

Verifikasi tanda tangan. Mengembalikan `true` atau `false`.

`signature` harus berupa string yang dienkode base64url.

Untuk algoritma HMAC, `secretOrPublicKey` harus berupa string atau buffer. Untuk ECDSA dan RSA, nilainya harus berupa string yang mewakili kunci **privat** yang dienkode PEM.


# <a name="example"></a>Contoh

HMAC
```js
const jwa = require('jwa');

const hmac = jwa('HS256');
const input = 'super important stuff';
const secret = 'shhhhhh';

const signature = hmac.sign(input, secret);
hmac.verify(input, signature, secret) // === true
hmac.verify(input, signature, 'trickery!') // === false
```

Dengan kunci
```js
const fs = require('fs');
const jwa = require('jwa');
const privateKey = fs.readFileSync(__dirname + '/ecdsa-p521-private.pem');
const publicKey = fs.readFileSync(__dirname + '/ecdsa-p521-public.pem');

const ecdsa = jwa('ES512');
const input = 'very important stuff';

const signature = ecdsa.sign(input, privateKey);
ecdsa.verify(input, signature, publicKey) // === true
```
## <a name="license"></a>Lisensi

MIT

```
Copyright (c) 2013 Brian J. Brennan

Permission is hereby granted, free of charge, to any person obtaining a
copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be included
in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
```
